{"ast":null,"code":"var _jsxFileName = \"/home/alejandrorz/ProyectoRiesgoTecnologico/Front-End/src/CRUDParticipantes.js\";\nimport React from \"react\";\nimport \"./CRUDParticipantes.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { useNavigate } from 'react-router-dom';\nimport Login from './Login';\nimport DancingCat from './DancingCat';\nimport { Table, Container, Modal, ModalHeader, ModalBody, FormGroup, ModalFooter, Input } from \"reactstrap\";\nclass CRUDParticipantes extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      dataFiltrada: [],\n      modalAsignar: false,\n      modalEliminar: false,\n      participanteAEliminar: '',\n      formAsignar: {\n        noCuenta: \"\",\n        noStand: \"\"\n      },\n      busqueda: \"\",\n      errorsAsignarStand: {}\n    };\n    this.navigate = useNavigate();\n    // Realiza la redirección a la vista de stands\n    this.CRUDStands = () => {\n      window.location.href = \"http://localhost:3000/administrador\";\n    };\n    // Función para mostrar el modal de asignación de stand con los datos pasados como argumento  \n    this.mostrarModalAsignar = dato => {\n      this.setState({\n        formAsignar: dato,\n        modalAsignar: true\n      });\n    };\n    // Función para cerrar el modal de asignación y limpiar los errores\n    this.cerrarModalAsignar = () => {\n      this.setState({\n        errorsAsignarStand: {}\n      });\n      this.setState({\n        modalAsignar: false\n      });\n    };\n    // Función para mostrar el modal de eliminación con los datos del participante a eliminar\n    this.mostrarModalEliminar = dato => {\n      this.setState({\n        modalEliminar: true,\n        participanteAEliminar: dato.noCuenta\n      });\n    };\n    // Función para cerrar el modal de eliminación\n    this.cerrarModalEliminar = () => {\n      this.setState({\n        modalEliminar: false\n      });\n    };\n    // Función para asignar un stand a un participante\n    this.asignarStand = async () => {\n      if (!this.datosValidosasignarStand()) {\n        return;\n      }\n      try {\n        const {\n          noCuenta,\n          noStand\n        } = this.state.formAsignar;\n        const response = await fetch(\"http://127.0.0.1:5000/admin/asignarStand\", {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            noCuenta,\n            noStand\n          })\n        });\n        const data = await response.json();\n        if (response.ok && data.message === \"Stand asignado exitosamente\") {\n          this.componentDidMount();\n          this.cerrarModalAsignar();\n        } else {\n          // Manejar errores de la respuesta\n          const errorsAsignarStand = {};\n          if (data.error === \"No existe tal stand\") {\n            errorsAsignarStand[\"noStand\"] = \"No hay un stand identificado por tal número\";\n          } else {\n            errorsAsignarStand[\"noStand\"] = \"Error desconocido. Por favor, inténtalo nuevamente.\";\n          }\n          // Actualizar estado con los errores\n          this.setState({\n            errorsAsignarStand\n          });\n          return; // Detener ejecución\n        }\n      } catch (error) {\n        console.error(\"Error al asignar stand:\", error);\n        alert(\"Error al asignar stand. Por favor, inténtalo nuevamente más tarde.\");\n        this.setState({\n          modalAsignar: false\n        });\n      }\n    };\n    // Función para eliminar un participante\n    this.eliminar = dato => {\n      fetch(\"http://127.0.0.1:5000/admin/eliminarParticipante\", {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          noCuenta: dato.noCuenta\n        })\n      }).then(response => response.json()).then(data => {\n        if (data.message === 'Participante eliminado exitosamente') {\n          this.componentDidMount();\n          this.setState({\n            modalEliminar: false,\n            participanteAEliminar: null\n          });\n        } else {\n          alert('Error al eliminar participante en el servidor: ' + data.error);\n        }\n      }).catch(error => {\n        console.error(\"Error al eliminar participante:\", error);\n        alert(\"Error al eliminar participante. Por favor, inténtalo más tarde.\");\n      });\n    };\n    // Función para manejar el cambio en el formulario de asignación de stand\n    this.handleChangeAsignar = e => {\n      this.setState({\n        formAsignar: {\n          ...this.state.formAsignar,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n    // Volver a la vista anterior\n    this.handleVolver = () => {\n      navigate(-1);\n    };\n    // Función para manejar el cambio en el campo de búsqueda\n    this.handleChangeBuscar = async e => {\n      e.persist();\n      await this.setState({\n        busqueda: e.target.value\n      });\n      this.filtrarElementos();\n    };\n    // Función para filtrar los elementos según la búsqueda\n    this.filtrarElementos = () => {\n      var search = this.state.dataFiltrada.filter(item => {\n        return item.noCuenta.toString().includes(this.state.busqueda) || item.nombre.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").includes(this.state.busqueda.toLowerCase()) || item.apellido.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").includes(this.state.busqueda.toLowerCase()) || item.email.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").includes(this.state.busqueda.toLowerCase());\n      });\n      this.setState({\n        data: search\n      });\n    };\n    // Función para validar los datos de asignación de stand\n    this.datosValidosasignarStand = () => {\n      let errorsAsignarStand = {};\n      let isValid = true;\n      if (!this.state.formAsignar.noStand) {\n        isValid = false;\n        errorsAsignarStand[\"noStand\"] = \"Debes de ingresar un número de stand\";\n      }\n      if (this.state.formAsignar.noStand < 0 || !Number.isInteger(Number(this.state.formAsignar.noStand))) {\n        isValid = false;\n        errorsAsignarStand[\"noStand\"] = \"Número de stand no válido.\";\n      }\n      this.setState({\n        errorsAsignarStand\n      });\n      return isValid;\n    };\n  }\n  // Obtiene la lista de participantes del servidor al montar el componente\n  componentDidMount() {\n    fetch(\"http://127.0.0.1:5000/admin/readparticipante\").then(response => response.json()).then(data => {\n      this.setState({\n        data: data,\n        dataFiltrada: data\n      });\n    }).catch(error => {\n      alert(\"Error al obtener datos del servidor:\", error);\n    });\n  }\n  // Renderización del componente definido\n  render() {\n    if (!localStorage.getItem('tipo_usuario')) {\n      return /*#__PURE__*/React.createElement(Login, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 14\n        }\n      });\n    }\n\n    // Si el tipo de usuario no es \"administrador\", muestra un mensaje de error y un botón para volver.\n    if (localStorage.getItem('tipo_usuario') !== 'administrador') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Administrador\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(DancingCat, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"no-permisos\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }\n      }, \"No tienes permisos para ver esta p\\xE1gina\"), /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"volver-button\",\n        onClick: handleVolver,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }\n      }, \"Volver\")));\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Administrador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }, \"\\xA1Hola, administrador!\"), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n      className: \"CRUDParticipantes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.CRUDStands(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, \"volver a la vista general\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"barraBusqueda\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"lupa.png\",\n      alt: \"\\xCDcono de b\\xFAsqueda\",\n      style: {\n        height: '26px',\n        marginRight: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 15\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Buscar\",\n      className: \"textField\",\n      name: \"busqueda\",\n      value: this.state.busqueda,\n      onChange: this.handleChangeBuscar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }, \"No. Cuenta\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, \"Nombre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, \"Apellido\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, \"No. Stand\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, \"Acci\\xF3n\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    }, this.state.data.map(dato => /*#__PURE__*/React.createElement(\"tr\", {\n      key: dato.noCuenta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, dato.noCuenta), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 19\n      }\n    }, dato.nombre), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 19\n      }\n    }, dato.apellido), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, dato.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 19\n      }\n    }, dato.noStand), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        width: \"150px\",\n        display: \"block\",\n        marginBottom: \"10px\"\n      },\n      color: \"primary\",\n      onClick: () => this.mostrarModalAsignar(dato),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }, \"Asignar Stand\"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        width: \"150px\",\n        display: \"block\",\n        marginBottom: \"10px\",\n        backgroundColor: '#F05E16',\n        borderColor: '#F05E16',\n        transition: 'background-color 0.3s ease'\n      },\n      onClick: () => this.mostrarModalEliminar(dato),\n      onMouseOver: e => e.target.style.backgroundColor = '#B05625',\n      onMouseOut: e => e.target.style.backgroundColor = '#F05E16',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, \"Eliminar\"))))))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalAsignar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 18\n      }\n    }, \"Asignar stand\"))), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 15\n      }\n    }, \"No. Stand:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"noStand\",\n      type: \"number\",\n      onChange: this.handleChangeAsignar,\n      value: this.state.formAsignar.noStand,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }), this.state.errorsAsignarStand.noStand && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 58\n      }\n    }, this.state.errorsAsignarStand.noStand))), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        width: \"150px\"\n      },\n      color: \"primary\",\n      onClick: () => this.asignarStand(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }\n    }, \"Asignar Stand\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        width: \"150px\"\n      },\n      color: \"secondary\",\n      onClick: () => this.cerrarModalAsignar(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalEliminar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 18\n      }\n    }, \"Eliminar participante\"))), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 13\n      }\n    }, \"\\xBFEst\\xE1 seguro de eliminar el participante con No. de cuenta: \", this.state.participanteAEliminar, \"?\")), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        width: \"150px\",\n        display: \"block\",\n        marginBottom: \"10px\",\n        backgroundColor: '#F05E16',\n        borderColor: '#F05E16',\n        transition: 'background-color 0.3s ease'\n      },\n      onClick: () => this.eliminar({\n        noCuenta: this.state.participanteAEliminar\n      }),\n      onMouseOver: e => e.target.style.backgroundColor = '#B05625',\n      onMouseOut: e => e.target.style.backgroundColor = '#F05E16',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 13\n      }\n    }, \"Confirmar\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        width: \"150px\"\n      },\n      color: \"secondary\",\n      onClick: () => this.setState({\n        modalEliminar: false,\n        participanteAEliminar: null\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }\n    }, \"Cancelar\"))))));\n  }\n}\nexport default CRUDParticipantes;","map":{"version":3,"names":["React","useNavigate","Login","DancingCat","Table","Container","Modal","ModalHeader","ModalBody","FormGroup","ModalFooter","Input","CRUDParticipantes","Component","constructor","args","state","data","dataFiltrada","modalAsignar","modalEliminar","participanteAEliminar","formAsignar","noCuenta","noStand","busqueda","errorsAsignarStand","navigate","CRUDStands","window","location","href","mostrarModalAsignar","dato","setState","cerrarModalAsignar","mostrarModalEliminar","cerrarModalEliminar","asignarStand","datosValidosasignarStand","response","fetch","method","headers","body","JSON","stringify","json","ok","message","componentDidMount","error","console","alert","eliminar","then","catch","handleChangeAsignar","e","target","name","value","handleVolver","handleChangeBuscar","persist","filtrarElementos","search","filter","item","toString","includes","nombre","toLowerCase","normalize","replace","apellido","email","isValid","Number","isInteger","render","localStorage","getItem","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","Fragment","src","alt","style","height","marginRight","type","placeholder","onChange","map","key","width","display","marginBottom","color","backgroundColor","borderColor","transition","onMouseOver","onMouseOut","isOpen","required"],"sources":["/home/alejandrorz/ProyectoRiesgoTecnologico/Front-End/src/CRUDParticipantes.js"],"sourcesContent":["import React from \"react\";\r\nimport \"./CRUDParticipantes.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Login from './Login';\r\nimport DancingCat from './DancingCat';\r\nimport {\r\n  Table,  \r\n  Container,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  FormGroup,\r\n  ModalFooter,\r\n  Input\r\n} from \"reactstrap\";\r\n\r\nclass CRUDParticipantes extends React.Component {\r\n  state = {\r\n    data: [],\r\n    dataFiltrada: [],\r\n    modalAsignar: false,    \r\n    modalEliminar: false,\r\n    participanteAEliminar: '',    \r\n    formAsignar: {\r\n      noCuenta: \"\",\r\n      noStand: \"\",\r\n    },\r\n    busqueda: \"\",    \r\n    errorsAsignarStand: {},\r\n  };\r\n\r\n  navigate = useNavigate();\r\n  // Obtiene la lista de participantes del servidor al montar el componente\r\n  componentDidMount() {\r\n    fetch(\"http://127.0.0.1:5000/admin/readparticipante\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ data: data, dataFiltrada: data });\r\n      })\r\n      .catch((error) => {\r\n        alert(\"Error al obtener datos del servidor:\", error);\r\n      });\r\n  }\r\n\r\n  // Realiza la redirección a la vista de stands\r\n  CRUDStands = () => {    \r\n    window.location.href = \"http://localhost:3000/administrador\";\r\n  };\r\n\r\n  // Función para mostrar el modal de asignación de stand con los datos pasados como argumento  \r\n  mostrarModalAsignar = (dato) => {\r\n    this.setState({\r\n      formAsignar: dato,\r\n      modalAsignar: true,\r\n    });\r\n  };\r\n\r\n  // Función para cerrar el modal de asignación y limpiar los errores\r\n  cerrarModalAsignar = () => {\r\n    this.setState({ errorsAsignarStand: {} });\r\n    this.setState({ modalAsignar: false });\r\n  };\r\n\r\n  // Función para mostrar el modal de eliminación con los datos del participante a eliminar\r\n  mostrarModalEliminar = (dato) => {\r\n    this.setState({\r\n      modalEliminar: true,\r\n      participanteAEliminar: dato.noCuenta\r\n    });\r\n  }\r\n\r\n  // Función para cerrar el modal de eliminación\r\n  cerrarModalEliminar = () => {\r\n    this.setState({ modalEliminar: false });\r\n  }\r\n\r\n  // Función para asignar un stand a un participante\r\n  asignarStand = async () => {\r\n    if (!this.datosValidosasignarStand()) {\r\n      return;\r\n    }\r\n    try{\r\n      const { noCuenta, noStand } = this.state.formAsignar;\r\n      const response = await fetch(\"http://127.0.0.1:5000/admin/asignarStand\", {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ noCuenta, noStand}),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok && data.message === \"Stand asignado exitosamente\") {\r\n        this.componentDidMount();\r\n        this.cerrarModalAsignar();        \r\n      }else{\r\n         // Manejar errores de la respuesta\r\n         const errorsAsignarStand = {};\r\n  \r\n         if (data.error === \"No existe tal stand\") {\r\n           errorsAsignarStand[\"noStand\"] = \"No hay un stand identificado por tal número\";\r\n         } else {\r\n           errorsAsignarStand[\"noStand\"] = \"Error desconocido. Por favor, inténtalo nuevamente.\";\r\n         }  \r\n         // Actualizar estado con los errores\r\n         this.setState({ errorsAsignarStand });\r\n         return; // Detener ejecución\r\n      }\r\n    }catch(error) {\r\n        console.error(\"Error al asignar stand:\", error);\r\n        alert(\"Error al asignar stand. Por favor, inténtalo nuevamente más tarde.\");\r\n        this.setState({ modalAsignar: false });\r\n    }\r\n  };\r\n\r\n  // Función para eliminar un participante\r\n  eliminar = (dato) => {\r\n    fetch(\"http://127.0.0.1:5000/admin/eliminarParticipante\", {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ noCuenta: dato.noCuenta }),\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.message === 'Participante eliminado exitosamente') {\r\n          this.componentDidMount();\r\n          this.setState({ modalEliminar: false, participanteAEliminar: null });\r\n        } else {\r\n          alert('Error al eliminar participante en el servidor: ' + data.error);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error al eliminar participante:\", error);\r\n        alert(\"Error al eliminar participante. Por favor, inténtalo más tarde.\");\r\n      });\r\n  };\r\n\r\n  // Función para manejar el cambio en el formulario de asignación de stand\r\n  handleChangeAsignar = (e) => {\r\n    this.setState({\r\n      formAsignar: {\r\n        ...this.state.formAsignar,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  // Volver a la vista anterior\r\n  handleVolver = () => {\r\n    navigate(-1); \r\n  };\r\n\r\n  // Función para manejar el cambio en el campo de búsqueda\r\n  handleChangeBuscar = async (e) => {\r\n    e.persist();\r\n    await this.setState({ busqueda: e.target.value });\r\n    this.filtrarElementos();\r\n  }\r\n\r\n  // Función para filtrar los elementos según la búsqueda\r\n  filtrarElementos = () => {\r\n    var search = this.state.dataFiltrada.filter(item => {\r\n      return (\r\n        item.noCuenta.toString().includes(this.state.busqueda) ||\r\n        item.nombre.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").includes(this.state.busqueda.toLowerCase()) ||\r\n        item.apellido.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").includes(this.state.busqueda.toLowerCase()) ||\r\n        item.email.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").includes(this.state.busqueda.toLowerCase())\r\n      );\r\n    });\r\n    this.setState({ data: search });\r\n  }\r\n\r\n  // Función para validar los datos de asignación de stand\r\n  datosValidosasignarStand = () => {\r\n    let errorsAsignarStand = {};\r\n    let isValid = true;\r\n\r\n    if (!this.state.formAsignar.noStand) {\r\n      isValid = false;\r\n      errorsAsignarStand[\"noStand\"] = \"Debes de ingresar un número de stand\";\r\n    }\r\n\r\n    if (this.state.formAsignar.noStand < 0 || !Number.isInteger(Number(this.state.formAsignar.noStand))) {\r\n      isValid = false;\r\n      errorsAsignarStand[\"noStand\"] = \"Número de stand no válido.\";\r\n    }\r\n\r\n    this.setState({ errorsAsignarStand });\r\n    return isValid;\r\n  }\r\n\r\n  // Renderización del componente definido\r\n  render() {\r\n    if (!localStorage.getItem('tipo_usuario')) {\r\n      return <Login />;\r\n    }\r\n  \r\n    // Si el tipo de usuario no es \"administrador\", muestra un mensaje de error y un botón para volver.\r\n    if (localStorage.getItem('tipo_usuario') !== 'administrador') {\r\n      return (\r\n        <div className=\"Administrador\">\r\n          {/* El gato está fuera del contenedor */}\r\n          <DancingCat />\r\n          <p className=\"no-permisos\">\r\n            No tienes permisos para ver esta página\r\n          </p>\r\n          <FormGroup className=\"text-center\">\r\n            <button\r\n              className=\"volver-button\"\r\n              onClick={handleVolver}>\r\n              Volver\r\n            </button>\r\n          </FormGroup>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className=\"Administrador\">\r\n      <div className=\"container\">\r\n        <h1>¡Hola, administrador!</h1>\r\n      <>\r\n        <Container className=\"CRUDParticipantes\">\r\n          <br />\r\n          <td>\r\n          <div className=\"d-flex justify-content-between\">            \r\n            <button onClick={() => this.CRUDStands()}>volver a la vista general</button>\r\n          </div>\r\n          </td>\r\n          <div className=\"barraBusqueda\">\r\n          <FormGroup className=\"d-flex align-items-center\">\r\n              <img src=\"lupa.png\" alt=\"Ícono de búsqueda\" style={{ height: '26px', marginRight: '10px'}} />{\" \"}\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"Buscar\"\r\n                className=\"textField\"\r\n                name=\"busqueda\"\r\n                value={this.state.busqueda}\r\n                onChange={this.handleChangeBuscar}\r\n              />\r\n          </FormGroup>\r\n          </div>\r\n          <br />\r\n          <br />\r\n          <Table>\r\n            <thead>\r\n              <tr>\r\n                <th>No. Cuenta</th>\r\n                <th>Nombre</th>\r\n                <th>Apellido</th>\r\n                <th>Email</th>\r\n                <th>No. Stand</th>\r\n                <th>Acción</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {this.state.data.map((dato) => (\r\n                <tr key={dato.noCuenta}>\r\n                  <td>{dato.noCuenta}</td>\r\n                  <td>{dato.nombre}</td>\r\n                  <td>{dato.apellido}</td>\r\n                  <td>{dato.email}</td>\r\n                  <td>{dato.noStand}</td>\r\n                  <td>\r\n                    <button\r\n                      style={{ width: \"150px\", display: \"block\", marginBottom: \"10px\" }}\r\n                      color=\"primary\"\r\n                      onClick={() => this.mostrarModalAsignar(dato)}\r\n                    >Asignar Stand\r\n                    </button>{\" \"}\r\n                    <button style={{ width: \"150px\", display: \"block\", marginBottom: \"10px\", \r\n                    backgroundColor: '#F05E16', borderColor: '#F05E16', transition: 'background-color 0.3s ease' }} \r\n                    onClick={() => this.mostrarModalEliminar(dato)}onMouseOver={(e) => e.target.style.backgroundColor = '#B05625'}\r\n                    onMouseOut={(e) => e.target.style.backgroundColor = '#F05E16'}>Eliminar</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </Container>\r\n\r\n\r\n        <Modal isOpen={this.state.modalAsignar}>\r\n          <ModalHeader>\r\n            <div><h3>Asignar stand</h3></div>\r\n          </ModalHeader>\r\n          <ModalBody>           \r\n\r\n            <FormGroup>\r\n              <label>\r\n                No. Stand:\r\n              </label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"noStand\"\r\n                type=\"number\"\r\n                onChange={this.handleChangeAsignar}\r\n                value={this.state.formAsignar.noStand}\r\n                required\r\n              />\r\n              {\r\n                this.state.errorsAsignarStand.noStand && <div className=\"alert alert-danger\">\r\n                  {this.state.errorsAsignarStand.noStand}\r\n                </div>\r\n              }\r\n            </FormGroup>\r\n          </ModalBody>\r\n\r\n          <ModalFooter>\r\n            <button\r\n              style={{ width: \"150px\"}} color=\"primary\"\r\n              onClick={() => this.asignarStand()}\r\n            >\r\n              Asignar Stand\r\n            </button>\r\n            <button\r\n              style={{ width: \"150px\"}} color=\"secondary\"\r\n              onClick={() => this.cerrarModalAsignar()}\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </ModalFooter>\r\n        </Modal>\r\n\r\n       \r\n\r\n        <Modal isOpen={this.state.modalEliminar}>\r\n          <ModalHeader>\r\n            <div><h3>Eliminar participante</h3></div>\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <p>¿Está seguro de eliminar el participante con No. de cuenta: {this.state.participanteAEliminar}?</p>\r\n          </ModalBody>\r\n\r\n          <ModalFooter>\r\n            <button style={{ width: \"150px\", display: \"block\", marginBottom: \"10px\", \r\n                    backgroundColor: '#F05E16', borderColor: '#F05E16', transition: 'background-color 0.3s ease' }} \r\n                    onClick={() => this.eliminar({ noCuenta: this.state.participanteAEliminar })}  \r\n                    onMouseOver={(e) => e.target.style.backgroundColor = '#B05625'}\r\n                    onMouseOut={(e) => e.target.style.backgroundColor = '#F05E16'}>\r\n              Confirmar\r\n            </button>\r\n            <button style={{ width: \"150px\"}} color=\"secondary\"  onClick={() => this.setState({ modalEliminar: false, participanteAEliminar: null })}>\r\n              Cancelar\r\n            </button>\r\n          </ModalFooter>\r\n        </Modal>\r\n      </>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CRUDParticipantes;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}